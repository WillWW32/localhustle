# Coach Database Scraper - File Manifest

## Files Created

### Main Scraper
- **`scripts/scrape-coaches.ts`** (11 KB)
  - TypeScript main scraper script
  - Loads schools from JSON, scrapes coaches, outputs results
  - Features: rate limiting, error handling, HTML parsing, statistics
  - Run with: `npx tsx scripts/scrape-coaches.ts` or `npm run scrape:coaches`

### Configuration & Data
- **`scripts/schools.json`** (13 KB)
  - Curated list of ~50 college basketball programs
  - Organized by division: D1, D2, NAIA, JUCO
  - Each entry: id, name, division, conference, state, athleticsUrl
  - Easily editable to add/remove schools

- **`package.json`** (0.5 KB)
  - Node.js project manifest
  - Dependencies: cheerio, typescript, tsx, @types/node
  - Scripts: scrape:coaches, scrape:coaches:quick, dev, build, start

- **`tsconfig.json`** (0.6 KB)
  - TypeScript compiler configuration
  - Module: ES2022, target: ES2022
  - ESM support for import/export syntax

### Optional Integrations
- **`scripts/supabase-sync.ts`** (5 KB)
  - Optional Supabase database sync script
  - Reads coaches-database.json and inserts into Supabase
  - Features: batch inserts, overwrite option, error handling
  - Run with: `npx tsx scripts/supabase-sync.ts`

### Documentation
- **`scripts/README.md`** (5.5 KB)
  - Comprehensive scraper documentation
  - Features overview, usage, configuration, troubleshooting
  - School coverage by division
  - Future enhancement suggestions

- **`SCRAPER_QUICKSTART.md`** (4 KB)
  - Quick start guide
  - Installation, running, output format
  - Adding/removing schools
  - Troubleshooting common issues

- **`SCRAPER_SETUP.md`** (7 KB)
  - Complete technical setup guide
  - Architecture, performance characteristics
  - Maintenance procedures
  - Supabase schema definition

- **`MANIFEST.md`** (This file)
  - Complete file listing and descriptions
  - File purposes and relationships

### Examples & Reference
- **`scripts/example-output.json`** (3 KB)
  - Sample output from scraper
  - Shows format for 8 schools with coach data
  - Useful for understanding output structure

## File Organization

```
/sessions/gallant-youthful-darwin/
├── recruitment-agent/
│   ├── api/                          # [Existing]
│   ├── components/                   # [Existing]
│   ├── lib/                          # [Existing]
│   ├── scripts/
│   │   ├── scrape-coaches.ts         # NEW: Main scraper
│   │   ├── schools.json              # NEW: School list
│   │   ├── supabase-sync.ts          # NEW: DB sync (optional)
│   │   ├── README.md                 # NEW: Detailed docs
│   │   ├── example-output.json       # NEW: Sample output
│   │   └── coaches-database.json     # AUTO: Generated output
│   ├── supabase/                     # [Existing]
│   ├── package.json                  # NEW: Updated with scripts
│   ├── tsconfig.json                 # NEW: TS configuration
│   ├── SCRAPER_QUICKSTART.md         # NEW: Quick start
│   └── SCRAPER_SETUP.md              # NEW: Setup guide
└── SCRAPER_SETUP.md                  # NEW: Main setup docs
```

## Getting Started

### Installation & Setup
```bash
cd /sessions/gallant-youthful-darwin/recruitment-agent
npm install
```

### Run Scraper
```bash
npm run scrape:coaches
```

Generates: `scripts/coaches-database.json`

### View Documentation
- Quick start: `SCRAPER_QUICKSTART.md`
- Detailed setup: `SCRAPER_SETUP.md`
- Technical docs: `scripts/README.md`

## File Dependencies

```
package.json
  ├─> scripts/scrape-coaches.ts
  ├─> scripts/schools.json
  └─> scripts/supabase-sync.ts
       └─> coaches-database.json (output)

tsconfig.json
  └─> All .ts files

MANIFEST.md (this file)
  └─> References all files above
```

## Maintenance Files

These files are meant to be edited:

1. **`scripts/schools.json`** - Add/remove schools regularly
   - Add new entries to expand coverage
   - Remove invalid/inactive programs
   - Update conference names if they change

2. **`scripts/scrape-coaches.ts`** - Improve parsing
   - Add new CSS selectors for different site styles
   - Update titleKeywords as new coaching roles appear
   - Enhance regex patterns for edge cases

3. **`package.json`** - Update dependencies
   - Upgrade cheerio, typescript, tsx as needed
   - Add new scripts for additional tasks

## Generated Files

These files are auto-generated by the scraper:

1. **`scripts/coaches-database.json`** - Scraper output
   - Created each time scraper runs
   - Contains all coaches found from schools.json
   - Timestamped for each run
   - Safe to delete and regenerate

## Dependencies

All dependencies are lightweight, production-ready:

- **cheerio** (HTML parsing) - Fast jQuery-like API
- **typescript** (Type safety) - ESM support
- **tsx** (TypeScript runner) - No compilation needed
- **@types/node** (TypeScript types) - Node.js type definitions

No heavy dependencies like Playwright, Puppeteer, or Selenium.

## Size & Performance

| File | Size | Purpose |
|------|------|---------|
| scrape-coaches.ts | 11 KB | Main script |
| schools.json | 13 KB | Configuration |
| supabase-sync.ts | 5 KB | Optional |
| package.json | 0.5 KB | Manifest |
| tsconfig.json | 0.6 KB | Config |
| README.md | 5.5 KB | Docs |
| QUICKSTART.md | 4 KB | Docs |
| SETUP.md | 7 KB | Docs |
| **Total** | **~46 KB** | All files |

## Version Information

- **Node.js:** 16+ required
- **TypeScript:** 5.3.3
- **Cheerio:** 1.0.0-rc.12
- **Created:** 2024-02-18

## Next Steps

1. Review SCRAPER_QUICKSTART.md
2. Run: `npm install && npm run scrape:coaches`
3. Check output in `scripts/coaches-database.json`
4. Add more schools to `scripts/schools.json`
5. (Optional) Set up Supabase sync

## Support

- **Quick questions:** See SCRAPER_QUICKSTART.md
- **Technical details:** See SCRAPER_SETUP.md
- **Documentation:** See scripts/README.md
- **Issues:** Check troubleshooting section in QUICKSTART.md

## Summary

Complete, production-ready coach database scraper with:
- ✅ Main scraper script (scrape-coaches.ts)
- ✅ Curated school list (schools.json, 50 schools)
- ✅ Optional Supabase integration (supabase-sync.ts)
- ✅ Full documentation (3 guides + inline docs)
- ✅ Example output (example-output.json)
- ✅ Configuration files (package.json, tsconfig.json)

Ready to use: `npm run scrape:coaches`
